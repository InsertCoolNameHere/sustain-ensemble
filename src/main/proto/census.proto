syntax = "proto3";

import "google/api/http.proto";

option java_multiple_files = true;
option java_package = "org.sustain.census";
option java_outer_classname = "SustainCensus";
//option objc_class_prefix = "";

package census;

service Census {
  rpc GetTotalPopulation (TotalPopulationRequest) returns (TotalPopulationResponse) {}
  rpc GetMedianAge (MedianAgeRequest) returns (MedianAgeResponse) {}
  rpc GetMedianHouseholdIncome (MedianHouseholdIncomeRequest) returns (MedianHouseholdIncomeResponse) {}
  rpc GetPopulationByAge (PopulationByAgeRequest) returns (PopulationByAgeResponse) {}
  rpc GetPoverty (PovertyRequest) returns (PovertyResponse) {}
  rpc GetRace (RaceRequest) returns (RaceResponse) {}
}

message RaceRequest {
  SpatialInfoInRequest spatialInfo = 1;
}

message RaceResponse {
  int32 whiteAlone = 1;
  int32 blackAlone = 2;
  int32 americanIndianAndAlaskaNative = 3;
  int32 asianAlone = 4;
  int32 nativeHawaiianAndPacificIslander = 5;
  int32 otherAlone = 6;
  int32 twoOrMoreRaces = 7;
  int32 latinoAlone = 8;
  int32 asiansAll = 9;
  int32 otherAll = 10;
}

message PovertyRequest {
  SpatialInfoInRequest spatialInfo = 1;
}

message PovertyResponse {
  int32 incomeBelowPovertyLevel = 1;
  int32 incomeAtOrAbovePovertyLevel = 2;
}

message TotalPopulationRequest {
  SpatialInfoInRequest spatialInfo = 1;
}

message PopulationByAgeRequest {
  SpatialInfoInRequest spatialInfo = 1;
}

message MedianAgeRequest {
  SpatialInfoInRequest spatialInfo = 1;
}

message MedianHouseholdIncomeRequest {
  SpatialInfoInRequest spatialInfo = 1;
}

// geographic information included in every CensusRequest
message SpatialInfoInRequest {
  string resolution = 1; // Example:- 'state', 'county', 'tract'
  double latitude = 2;
  double longitude = 3;
}

message TotalPopulationResponse {
  double population = 1;
}

message MedianAgeResponse {
  double medianAge = 1;
}

message MedianHouseholdIncomeResponse {
  double medianHouseholdIncome = 1;
}

message PopulationByAgeResponse {
  MaleAgeCategories maleAgeCategories = 1;
  FemaleAgeCategories femaleAgeCategories = 2;
}

message MaleAgeCategories {
  AgeCategories ageCategories = 1;
}

message FemaleAgeCategories {
  AgeCategories ageCategories = 2;
}

message AgeCategories {
  int32 total = 1;
  int32 under5 = 2;
  int32 _5to9 = 3;
  int32 _10to14 = 4;
  int32 _15to17 = 5;
  int32 _18to19 = 6;
  int32 _20 = 7;
  int32 _21 = 8;
  int32 _22to24 = 9;
  int32 _25to29 = 10;
  int32 _30to34 = 11;
  int32 _35to39 = 12;
  int32 _40to44 = 13;
  int32 _45to49 = 14;
  int32 _50to54 = 15;
  int32 _55to59 = 16;
  int32 _60to61 = 17;
  int32 _62to64 = 18;
  int32 _65to66 = 19;
  int32 _67to69 = 20;
  int32 _70to74 = 21;
  int32 _75to79 = 22;
  int32 _80to84 = 23;
  int32 _85andOver = 24;
}

message GeographicInfo {
  // TODO: include GeographicInfo in every CensusResponse
  string geoId = 1;
  string resolution = 2;
}

